<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Description" content="Create and manage U.S. Small Business Administration events">
    <title>USSBA Events</title>
    <script src="assets/js/uswds-init.min.js"></script>
    <link href="assets/css/uswds.min.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="public/favicon.ico">
    <script src="assets/js/uswds.min.js" defer></script>
    <script type="module" src="components/header.js" defer></script>
</head>

<body>
    <eventadmin-header></eventadmin-header>
    <main>
        <div class="grid-container">
            <h1>Events</h1>
            <p>
                Use this site to create events that display on <a href="https://www.sba.gov/events/">sba.gov/events</a>. Click the menu options above to perform the following:
            </p>
            <ul>
                <li>Create an Event</li>
                <li>Modify your Events</li>
                <li>Review Events</li>
            </ul>
            <h2>Create an Event</h2>
            <p>Use the <a href="new.html">Create an Event</a> page to submit events for consideration. You'll follow five steps:</p>
            <ol>
                <li>Provide basic information such as title, description, and the District Office sponsoring the event
                </li>
                <li>Specify the date, time, whether the event is in person or online, and if it's recurring</li>
                <li>Identify the physical location of the event</li>
                <li>List contact information, registration link, and if a cost is associated</li>
                <li>Finally, you'll be able to select whether you want to save a draft of your event or submit it immediately
                </li>
            </ol>
            <h2>Modify your Events</h2>
            <p>
                You can keep track of the events you've submitted and their status on the <a href="review.html">View
                    Events</a> page. Click on the 'Review' link next to any event to modify the details of your event or submit it once you're ready. After you press the 'Submit' button, you'll see the status change from Draft to Submitted for Approval.
            </p>
            <p>
                For recurring events, you will see a list of 'children' events that were generated as part of the criteria you selected.
            </p>
            <h2>Review and Approve Events</h2>
            <p>
                If you are in a position to review and approve events, then you will see an extra menu option, which allows you to review the events submitted for approval. If you're a supervisor that has a lot of events to approve, and you've already reviewed them for
                accuracy, then instead of approving them one at a time, you can use the Bulk Approve option to approve them all at once.
            </p>
        </div>
    </main>
    <eventadmin-footer></eventadmin-footer>
    <script>
        let params = new URLSearchParams(document.location.search.substring(1));
        let code = params.get("code");
        console.log(code);
        if (code !== null) {
            fetch('https://eventadmin.ussba.io/api/login?code=' + code).then(function(response) {
                // The API call was successful!
                if (response.ok) {
                    return response.json();
                }

                // There was an error
                return Promise.reject(response);

            }).then(function(data) {
                // This is the JSON from our response
                console.log(data);
                sessionStorage.setItem('eventadmin_access_token', data['token']);
            }).catch(function(err) {
                // There was an error
                console.warn('Something went wrong.', err);
            });

        } else {
            console.log("No code found!")
        }

        // How to retrieve the id_token for future requests
        // var id_token = sessionStorage.getItem('eventadmin_access_token');
    </script>
</body>

</html>